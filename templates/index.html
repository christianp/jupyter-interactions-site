{% extends "base.html" %}

{% block content %}
    <section id="intro">
        <p>A repository of Jupyter notebooks that demonstrate something using ipywidgets.</p>
        <p>All contributed notebooks should follow the template laid out in template.ipynb</p>
    </section>

    <section id="item-gallery">
        <div id="search">
            <label>Search: <input type="text" id="search-query"></label>
        </div>

        <ul id="items">
            {% for notebook in notebooks %}
            {% if notebook.valid %}
            <li class="item" data-keywords="{% if notebook.keywords|length %}{{notebook.keywords|join(',')}}{% endif %}">
                <header>
                    <h1 class="title"><a target="_blank" href="{{site.notebook_runner_url}}{{notebook.filename|urlencode}}">{{notebook.title|default('Untitled')|markdown}}</a></h1>
                    {% if notebook.author %}
                        <h2 class="author">{{notebook.author|markdown}}</h2>
                    {% else %}
                        <h2 class="author none">No author specified</h2>
                    {% endif %}
                </header>
                <div class="content">
                    {% if notebook.image %}
                    <div class="image">
                        <a title="Open the {{notebook.title}} notebook" target="_blank" href="{{site.notebook_runner_url}}{{notebook.filename|urlencode}}">{{notebook.image.html|safe}}</a>
                    </div>
                    {% endif %}
                    {% if notebook.description %}<div class="description clearfix">{{notebook.description|markdown}}</div>{% endif %}
                    
                    {% if notebook.references|length %}
                    <div class="references">
                        <h3>References</h3>
                        <ul>
                            {% for ref in notebook.references %}
                            <li>{{ref|markdown}}</li>
                            {% endfor %}
                        </ul>
                    </div>
                    {% endif %}
                </div>
            </li>
            {% endif %}
            {% endfor %}
        </ul>
    </section>
{% endblock content %}

{% block scripts %}
    <script src="static/gallery.js"></script>
{% endblock scripts %}
